<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>世界地图实时动态数据 - 数据规范 仪表盘</title>
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/main.css"/>
</head>
<body ng-app="chart-map">

<div class="container" ng-controller="chartMapCtrl">
    <div class="row">
        <div class="col-md-12" style="height: 500px;">
            <chart-map option="option" map-click="onMapClick();" output-data="nodeInfo"></chart-map>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <pre>
<strong>默认option指令</strong>:
<code>
    < chart-map option="option">< /chart-map>
    <span class="text-danger">【必写属性】</span>默认option，参数有限，配置简单
</code>

<strong>scope中的数据：</strong>
<code>
    $scope.option = {
        title : '模拟迁徙',             //地图名称
        subtext: '数据纯属虚构',          //地图副标题
        geo: 'world',               //地图范围
        lineColor: ['#e6551d', '#693'],     //每种动态数据的颜色
        //动态数据的箭头图标
        lineIcon: 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z',
        //【必填】主要数据
        series: [
            ['北京', [
                [{name:'北京'}, {name:'上海',value:95}],
                [{name:'北京'}, {name:'广州',value:90}],
                [{name:'北京'}, {name:'南宁',value:70}],
                [{name:'北京'}, {name:'拉萨',value:50}],
                [{name:'北京'}, {name:'伦敦',value:30}],
                [{name:'北京'}, {name:'纽约',value:20}],
                [{name:'拉萨'}, {name:'上海',value:20}],
                [{name:'北京'}, {name:'约翰内斯堡',value:10}]
            ]],
            ['渥太华', [
                [{name:'渥太华'}, {name:'莫斯科',value:95}],
                [{name:'渥太华'}, {name:'巴西利亚',value:90}],
                [{name:'渥太华'}, {name:'新德里',value:80}],
                [{name:'渥太华'}, {name:'堪培拉',value:70}],
                [{name:'约翰内斯堡'}, {name:'莫斯科',value:70}],
                [{name:'渥太华'}, {name:'约翰内斯堡',value:10}]
            ]]
        ],
        geoCoordMap: {
            '渥太华': [-75.43,45.25]
            ,'巴西利亚': [-47.56,-15.47]
            ,'莫斯科': [37,56]
            ,'新德里': [77.13,28.37]
            ,'堪培拉': [149.07,-35.17]
        },    //城市地理坐标[东经，北纬]
        backgroundColor: '#f5f5f5',     //背景颜色，默认无背景色
        saveAsImage: false            //是否显示“保存为图片”
    };
</code>
<hr/>
<strong>增强option指令</strong>:
<code>
    < chart-map option="option" origin="true">< /chart-map>
    origin="true" ： option可以是echarts map支持的所有属性
</code>

<strong>scope中的数据：</strong>
    <a href="http://echarts.baidu.com/demo.html#geo-lines" target="_blank">参考官方文档</a>
<hr/>
<strong>响应点击事件指令：</strong>
<code>
    < chart-map option="option" map-click="onMapClick();" output-data="nodeInfo">< /chart-map>
    map-click="onMapClick();"： 自定义点击事件
    output-data="nodeInfo"： <span class="text-danger">【必写属性】</span>点击处的数据
</code>

<strong>scope中的数据：</strong>
    $scope.onMapClick = function(){
        console.table($scope.nodeInfo);
    }
<hr/>
    <p class="bg-warning">
    如果legend数据太长导致内容重叠，提供三种建议方案：
        方案1. 增加图表显示区域的宽高；
        方案2. 将origin置为true，通过更全的参数调整渲染布局；
        方案3. 将legend隐藏，在图标DOM旁边自定义legendDOM。

    </p>
            </pre>
        </div>
    </div>
</div>

<script src="lib/jquery-1.11.3.min.js"></script>
<script src="lib/bootstrap/bootstrap.min.js"></script>
<script src="lib/angular/angular.min.js"></script>
<script src="lib/echarts.js"></script>
<script src="lib/underscore/underscore-min.js"></script>
<script src="lib/echart-world.js"></script>

<script src="js/chart-directive.js"></script>
<script src="js/map.js"></script>
</body>
</html>